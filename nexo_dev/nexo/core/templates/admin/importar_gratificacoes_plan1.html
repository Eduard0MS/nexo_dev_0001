{% extends "admin/base_site.html" %}
{% load i18n admin_urls static %}

{% block title %}{{ title }} | {{ site_title|default:_('Django site admin') }}{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
    <a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>
    &rsaquo; <a href="{% url 'admin:app_list' app_label=opts.app_label %}">{{ opts.app_config.verbose_name }}</a>
    &rsaquo; <a href="{% url 'admin:core_relatoriogratificacoesplan1_changelist' %}">Gratifica√ß√µes por √ìrg√£o (Plan1)</a>
    &rsaquo; {{ title }}
</div>
{% endblock %}

{% block content %}
<div style="padding: 20px;">
    <h1>üìä {{ title }}</h1>
    
    <div style="background: #e7f3ff; border: 1px solid #bee5eb; border-radius: 8px; padding: 15px; margin: 20px 0;">
        <h3 style="margin-top: 0; color: #0c5460;">‚ÑπÔ∏è Instru√ß√µes</h3>
        <p>Este formul√°rio permite importar dados de <strong>gratifica√ß√µes por √≥rg√£o</strong> da <strong>aba "Plan1"</strong> da planilha Excel.</p>
        
        <h4>üèõÔ∏è Estrutura esperada da aba "Plan1":</h4>
        <ul style="font-size: 14px;">
            <li><strong>üìã Se√ß√£o "√ìRG√ÉOS CENTRAIS"</strong> com uma tabela contendo:</li>
            <ul style="margin-left: 20px; font-size: 12px;">
                <li>Coluna A: N√≠vel do Cargo (Superior, Intermedi√°rio, Auxiliar)</li>
                <li>Coluna B: Valor M√°ximo da GSISTE</li>
            </ul>
            <li><strong>üìã Se√ß√£o "√ìRG√ÉOS SETORIAIS"</strong> com estrutura similar</li>
        </ul>
        
        <h4>üí° Como funciona:</h4>
        <ul style="font-size: 12px; color: #666;">
            <li>O sistema identifica automaticamente as se√ß√µes "√ìRG√ÉOS CENTRAIS" e "√ìRG√ÉOS SETORIAIS"</li>
            <li>Para cada se√ß√£o, captura os dados de n√≠vel do cargo e valores</li>
            <li>Ignora automaticamente linhas de cabe√ßalho e vazias</li>
            <li>Converte os valores monet√°rios corretamente (suporta formato brasileiro)</li>
        </ul>
        
        <p><strong>‚ö†Ô∏è Importante:</strong> Apenas a aba <code>"Plan1"</code> ser√° processada. Certifique-se de que sua planilha cont√©m esta aba com os dados de gratifica√ß√µes organizados conforme mostrado nas suas screenshots.</p>
    </div>

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <fieldset class="module aligned">
            <div class="form-row">
                <div>
                    <label for="{{ form.arquivo.id_for_label }}">{{ form.arquivo.label }}:</label>
                    {{ form.arquivo }}
                    {% if form.arquivo.help_text %}
                        <p class="help">{{ form.arquivo.help_text }}</p>
                    {% endif %}
                    {{ form.arquivo.errors }}
                </div>
            </div>
        </fieldset>
        
        <div class="submit-row">
            <input type="submit" value="Importar Aba Plan1" class="default" name="_save">
            <a href="{% url 'admin:core_relatoriogratificacoesplan1_changelist' %}" class="button cancel-link">Cancelar</a>
        </div>
    </form>
</div>
{% endblock %} 