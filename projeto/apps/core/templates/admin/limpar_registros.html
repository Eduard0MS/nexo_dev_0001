{% extends "admin/base_site.html" %}
{% load static i18n %}

{% block title %}Limpar Registros Inválidos{% endblock %}

{% block content %}
<div class="app-core model-unidadecargo change-list">
    <h1>Limpar Registros Inválidos</h1>
    
    <div class="module">
        <h2>Confirmar Limpeza</h2>
        <p>Esta ação irá remover todos os registros que não possuem grafos válidos e registros com categoria 'Colegiado' da base de dados.</p>
        <p>Registros inválidos são aqueles que:</p>
        <ul>
            <li>Não fazem parte da estrutura hierárquica do organograma (sem grafo válido)</li>
            <li>Possuem categoria de unidade como 'Colegiado' (dados inconsistentes)</li>
        </ul>
        
        <div class="description">
            <p><strong>Atenção:</strong> Esta ação não pode ser desfeita. Após a limpeza, o arquivo dados.json será automaticamente atualizado.</p>
        </div>
        
        <form method="post">
            {% csrf_token %}
            <div class="submit-row">
                <input type="submit" value="Limpar Registros Inválidos" class="default" />
                <a href="{% url 'admin:core_unidadecargo_changelist' %}" class="closelink">Cancelar</a>
            </div>
        </form>
    </div>
</div>
{% endblock %} 