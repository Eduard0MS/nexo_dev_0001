{% extends "admin/base_site.html" %}
{% load i18n admin_urls static %}

{% block title %}{{ title }} | {{ site_title|default:_('Django site admin') }}{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
    <a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>
    &rsaquo; <a href="{% url 'admin:app_list' app_label=opts.app_label %}">{{ opts.app_config.verbose_name }}</a>
    &rsaquo; <a href="{% url 'admin:core_relatoriogratificacoes_changelist' %}">Dados de Gratifica√ß√µes</a>
    &rsaquo; {{ title }}
</div>
{% endblock %}

{% block content %}
<div style="padding: 20px;">
    <h1>üìä {{ title }}</h1>
    
    <div style="background: #e7f3ff; border: 1px solid #bee5eb; border-radius: 8px; padding: 15px; margin: 20px 0;">
        <h3 style="margin-top: 0; color: #0c5460;">‚ÑπÔ∏è Instru√ß√µes</h3>
        <p>Este formul√°rio permite importar uma planilha Excel com dados de gratifica√ß√µes e lota√ß√µes de funcion√°rios.</p>
        
        <h4>üìã Estrutura esperada da planilha (29 colunas):</h4>
        <ol style="font-size: 12px; columns: 2;">
            <li>Nome do Servidor</li>
            <li>Matr√≠cula SIAPE</li>
            <li>CPF</li>
            <li>Data de Nascimento</li>
            <li>Idade</li>
            <li>Sexo</li>
            <li>Situa√ß√£o Funcional</li>
            <li>Cargo</li>
            <li>N√≠vel</li>
            <li>Gsiste</li>
            <li>Gsiste N√≠vel</li>
            <li>Fun√ß√£o</li>
            <li>N√≠vel da Fun√ß√£o</li>
            <li>Atividade da Fun√ß√£o</li>
            <li>Jornada de Trabalho</li>
            <li>Unidade de Lota√ß√£o</li>
            <li>Secretaria da Lota√ß√£o</li>
            <li>UF</li>
            <li>UORG de Exerc√≠cio</li>
            <li>Unidade de Exerc√≠cio</li>
            <li>Coordena√ß√£o</li>
            <li>Diretoria</li>
            <li>Secretaria</li>
            <li>√ìrg√£o Origem</li>
            <li>e-Mail Institucional</li>
            <li>Siape do Titular Chefe</li>
            <li>CPF do Titular do Chefe</li>
            <li>Siape do Substituto</li>
            <li>CPF do Substituto</li>
        </ol>
        
        <p><strong>‚ö†Ô∏è Importante:</strong> A primeira linha da planilha deve conter os cabe√ßalhos das colunas. Os dados come√ßam a partir da segunda linha.</p>
    </div>

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <fieldset class="module aligned">
            <div class="form-row">
                <div>
                    <label for="{{ form.arquivo.id_for_label }}">{{ form.arquivo.label }}:</label>
                    {{ form.arquivo }}
                    {% if form.arquivo.help_text %}
                        <p class="help">{{ form.arquivo.help_text }}</p>
                    {% endif %}
                    {{ form.arquivo.errors }}
                </div>
            </div>
        </fieldset>
        
        <div class="submit-row">
            <input type="submit" value="Importar Aba Planilha1" class="default" name="_save">
            <a href="{% url 'admin:core_relatoriogratificacoes_changelist' %}" class="button cancel-link">Cancelar</a>
        </div>
    </form>
</div>
{% endblock %} 